[{"content":"The beauty of having something (relatively) complete and available to the general public, is that it can get some legs of its own, and have some exciting moments.\nPickr has had two big moments in the last half a year, which led me to finally implement some basic Amplitude user tracking.\nOne moment was 6 months ago, which was the post Dream SMP member Tournament. There was a post on reddit which got somewhat popular, and brought a lot of new users to the site.\n Please don\u0026#39;t ask me what a Dream SMP member is  The biggest takeaway I got from this post, is that creating a short video of playing the game is the best way to market and promote new visitors to play a game. What was really cool about this one, is that it was the first instance ever where it was a topic that I didn\u0026rsquo;t create and actively post to various boards, that got a lot of plays.\nThe other one was just 5 days ago, which was the post Greatest WWE Divas Champion?!. This one got popular as a result of this twitter post.\n WWE Divas!?  Always figured that Pickr would cater to die-hard niche fanbases that are just craving for any sorts of new ways to participate in their fandom, but to have these two organic posts spring up and have ~3000 and ~4200 plays respectively; was quite a pleasant, welcome surprise.\nThere is basic Google Analytics hoisted on the site, but the problem was that even while the twitter post was trending and there were lots of users playing on the site in real time, Google Analytics was collecting almost no user analytics, to my dismay.\nI had always meant to implement a real, controlled product analytics solution anyway, so after considering a few options, I turned to Amplitude because of its reputation as the industry standard in product analytics, and my familiarity having used it before.\nA client-side implementation to track user events would be OK, but I didn\u0026rsquo;t want to account for the uncertainty of the tracking being blocked by privacy tools. So as the first solution, server-side tracking was to be implemented instead.\nPickr uses AWS Lambda to do all the server-side computing, which meant in order to use the Amplitude Node.js SDK a layer was the best way to use the library in my lambda instances. I didn\u0026rsquo;t want to bother with that, so as the first pass, I used the simple HTTP requests API in order to send the events.\nAmplitude tracking also requires at a minimum, a device ID or user ID for a given event. Because users don\u0026rsquo;t need to log in on my site in order to play games, a device ID needed to be generated and kept track. Here\u0026rsquo;s my simple implmentation of a useDeviceId.ts.\nimport { useEffect } from \u0026#39;react\u0026#39; import { getLongId } from \u0026#39;../lib/id\u0026#39; import { DEVICE_ID_KEY } from \u0026#39;../lib/localStorage\u0026#39; import useLocalStorage from \u0026#39;./useLocalStorage\u0026#39;  export const useDeviceId = (): string =\u0026gt; {  const [savedId, setSavedId] = useLocalStorage(DEVICE_ID_KEY, \u0026#39;\u0026#39;)   useEffect(() =\u0026gt; {  if (savedId === \u0026#39;\u0026#39;) {  const generatedId = getLongId()  setSavedId(generatedId)  }  }, [savedId, setSavedId])   return savedId } In my lambda functions, I made tracking an event super easy by creating some library functions that will parse the lambda event for the event parameters, and log it on Amplitude.\nexport const getTopics = async (  event: APIGatewayProxyEvent,  context: Context ): Promise\u0026lt;APIGatewayProxyResult\u0026gt; =\u0026gt; {  ...   await getTrackingParamsAndTrackEvent(\u0026#39;view_topics\u0026#39;, event)   ...   return getLambdaProxyResponse\u0026lt;ITopic[]\u0026gt;(statusCode, PAYLOAD) } This was a really lightweight way to implement some rudimentary product analytics.\nLast thing I\u0026rsquo;ll mention, before adding some screenshots from the WWE Divas Twitter post, is that it\u0026rsquo;s a great motivator to have a dashboard and to try and make those numbers go up by presenting an interesting, worthwhile experience for users.\n Pumped to see the tournament results generated on canvas be used this way.   Surreal and exciting to see users interacting with the site in this way!   Can\u0026#39;t wait for another niche fandom to begin using the website. (Also, what are these, screenshots for ants?)  Here\u0026rsquo;s to 7000 organic plays of games! ðŸ¥‚\n","permalink":"http://peterj35.github.io/posts/basic-analytics.md/","summary":"The beauty of having something (relatively) complete and available to the general public, is that it can get some legs of its own, and have some exciting moments.\nPickr has had two big moments in the last half a year, which led me to finally implement some basic Amplitude user tracking.\nOne moment was 6 months ago, which was the post Dream SMP member Tournament. There was a post on reddit which got somewhat popular, and brought a lot of new users to the site.","title":"Basic Product Analytics"},{"content":"Progressive Disclosure is a UX method to defer advanced or rarely used features to a secondary screen, making applications easier to learn and less error-prone.\n","permalink":"http://peterj35.github.io/posts/progressive-disclosure/","summary":"Progressive Disclosure is a UX method to defer advanced or rarely used features to a secondary screen, making applications easier to learn and less error-prone.","title":"Progressive Disclosure"},{"content":"For Pickr, which is a tournament playing app, I recently implemented a feature where after playing the game, the user would be shown an image of their play history.\nHere\u0026rsquo;s my playthrough of the Most Entertaining Spier-Man movie of all time:\nSpider-Man: Far From Home was the Spider-Man 2 of the Tom Holland era; characters were well established, the origin story told, and we were ready to have an awesome villain in Mysterio and a budding romance plot between Peter and MJ. All these elements combined for what was the best Spidey movie we\u0026rsquo;ve seen so far.\nBut I digress. To try the new feature out yourself, pick any tournament topic that interests you, play a game, and you\u0026rsquo;ll see the results.\nThe primary building block at least on the canvas implementation side was react-konva, which is a library which provides declarative and reactive bindings to the Konva Framework. I wanted to use declarative syntax to build the canvas, and wanted the canvas rendering code to look similar to the rest of my application.\nAfter some searching for pre-existing solutions, React Konva immediately jumped out, and all it took was about 30 minutes of playing around with a codesandbox to verify that it could do everything that was required of it.\nWhat good is a canvas if there\u0026rsquo;s no subject matter to paint? To keep a record of the game the user plays through, a useGameHistory hook was implemented, which passed a GameHistory object to an already existing useStoredGameResult hook.\n Let\u0026rsquo;s talk a bit about why this feature was prioritized over some of the others. This was an effort to drive more organic, high quality traffic to the website. The only way to share Pickr right now is with a URL link to topics, but a link is not as appealing as seeing an image which summarizes the value proposition, and can be a great way to start conversations. In other words, being able to export your results as an image, was a crucial part of the feature.\nThere were of course, other ways this could be implemented, for example by generating an image server-side. The obvious benefit of this approach is that it\u0026rsquo;s even easier to share than a png file the user has to download and upload somewhere else; they can simply share the URL itself.\nHowever, the canvas solution was chosen to start with because one, I was familiar with HTML5 canvas since using it during my time at a previous gig to build a performant, powerful data grid renderer and two, I didn\u0026rsquo;t want to take on the burden of hosting and serving the generated images myself, as the number of these would grow every time a user finished a game, which happens quite often.\n On Desktop providing a user affordance to download the generated canvas is quite straight forward, it\u0026rsquo;s described well in the React Konva docs.\nconst handleDownloadClick = () =\u0026gt; {  // Get the dataURL of the canvas...  const uri = stageRef.current.toDataURL();  downloadURI(uri, \u0026#39;stage.png\u0026#39;); }   // Then download it for the user // from https://stackoverflow.com/a/15832662/512042 const downloadURI = (uri, name) =\u0026gt; {  var link = document.createElement(\u0026#39;a\u0026#39;);  link.download = name;  link.href = uri;  document.body.appendChild(link);  link.click();  document.body.removeChild(link); } The tricky part was making this work for iOS. With the above code block, the download doesn\u0026rsquo;t happen properly, due to limitations of the OS.\nThis is part one of the solution I came up with:\nconst handleDownloadClick = () =\u0026gt; {  const uri = stageRef.current.toDataURL()   const img = new Image()  img.src = uri   const w = window.open(\u0026#39;\u0026#39;)  w.document.write(img.outerHTML) } The second part of the solution was to update the copy of the download button on mobile to indicate to open the image up in a new tab. On iOS, long pressing the canvas while it was part of my application didn\u0026rsquo;t prompt a download dialog, but when it was in the new tab as the source of the image node, long pressing prompted me to download the file to my Photos. Perfect!\n Some other hurdles I had to overcome was the problem with tainted canvases which were evident from my local environment. Because I was using the use-image hook the konvajs team had published, getting around this initially was trivial.\nBut when I was live-testing my app, I noticed the images weren\u0026rsquo;t loading from my S3 bucket because of a CORS issue; the header Access-Control-Allow-Origin wasn\u0026rsquo;t set in the resource that was fetched. So I updated my Netlify, S3, and Cloudflare settings to ensure this this header was being passed through.\nFinally, I ran into a Chrome issue where if it reused the cached version of the image, the resource wouldn\u0026rsquo;t have the Access-Control-Allow-Origin header set on it, and so the images when accessed from cache wouldn\u0026rsquo;t load. By passing a query param to the Cloudflare image path, I was able to request for a new image each time bypassing the cache and the solution worked.\n For next steps regarding this feature, the UI could be improved, for example by adding a gradient to indicate the progress of the tournament. Another thought is that it is overly tall and not a great dimension to share around, especially for the earlier rounds.\nHope you\u0026rsquo;ll have much some fun with it! Looking forward to seeing more of people\u0026rsquo;s opinions and images of playthroughs. If you have any questions or comments you\u0026rsquo;d like me to know about, please reach out to my twitter.\n","permalink":"http://peterj35.github.io/posts/mobile-canvas-download/","summary":"For Pickr, which is a tournament playing app, I recently implemented a feature where after playing the game, the user would be shown an image of their play history.\nHere\u0026rsquo;s my playthrough of the Most Entertaining Spier-Man movie of all time:\nSpider-Man: Far From Home was the Spider-Man 2 of the Tom Holland era; characters were well established, the origin story told, and we were ready to have an awesome villain in Mysterio and a budding romance plot between Peter and MJ.","title":"Mobile Canvas Download"},{"content":"With Pickr, one of the front end engineering philosophies I decided early on was to only design with an extreme mobile first mentality. Mobile first design refers to a design philosophy that aims to create better UX by starting the design process from the smallest of screens, which is mobile. Extreme mobile first refers to a design philosophy where every other design other than mobile is de-prioritized.\nI made this assumption since I imagine most people visiting Pickr will experience mobile, and mobile only. By the point someone visits the desktop app, they are likely already a vested user, and a slight degradation in UX is worth the trade off for engineering velocity. In the future however, an elegant responsive design component system may be fun to explore and implement.\nThe largest challenge IMO when it comes to mobile first design is how to fit in all the damn content while still looking great and considered.\n Opacities are helpful to overlay content on top of each other, but they don\u0026#39;t provide the best UX. What do you think of the back button overlapping with the title above? How else would you design this?  In terms of implementation details, it is time now that the industry needs to embrace more specific responsive breakpoint names, that are better than mobile, tablet, and desktop. For Pickr, the only breakpoint which it responds, which is used sparingly, is actually if it is \u0026ldquo;less than or equal to mobile landscape\u0026rdquo;, at 767px. Although it is a quite wordy acronym (isLTEML), it is much more descriptive than isMobile or isCompact which can be vague.\nFinally, one of the biggest advantages that Pickr has compared to similar apps like piku, is the fact that it\u0026rsquo;s optimized for mobile. Pickr embraces mobile users first, and expects that desktop users will be fine with a slightly narrow experience.\nOf course, there are not many of these assumptions made directly in code, and in the future, it will be very easy to build out more desktop-considered designs by changing a few basic View components.\n","permalink":"http://peterj35.github.io/posts/mobile-first/","summary":"With Pickr, one of the front end engineering philosophies I decided early on was to only design with an extreme mobile first mentality. Mobile first design refers to a design philosophy that aims to create better UX by starting the design process from the smallest of screens, which is mobile. Extreme mobile first refers to a design philosophy where every other design other than mobile is de-prioritized.\nI made this assumption since I imagine most people visiting Pickr will experience mobile, and mobile only.","title":"Extreme Mobile First"},{"content":"Learning new things are a great pleasure of mine, but even more than that sometimes is the act of spreading this joy by teaching others. That\u0026rsquo;s something that really gets me motivated and fulfilled at the end of the day, it\u0026rsquo;s been the case since in my professional life explaining things to coworkers, the case when I was a TA back in university, or when I was tutoring kids English back in Korea. In our day and age, combining this drive with my interest for video editing, I think producing videos are a good fit as a way to express my creativity, and also produce some interesting worthwhile content.\nBut what of. Wondering if explaining code or technical concepts online could be my thing, but not too sure where to begin. One idea I had would be to go through MDN docs, record myself going through it, sharing my thoughts and reiterating things. Think that would actually be pretty good for not just the sake of producing a video, but actually learning that stuff really well.\n","permalink":"http://peterj35.github.io/posts/what-to-record/","summary":"Learning new things are a great pleasure of mine, but even more than that sometimes is the act of spreading this joy by teaching others. That\u0026rsquo;s something that really gets me motivated and fulfilled at the end of the day, it\u0026rsquo;s been the case since in my professional life explaining things to coworkers, the case when I was a TA back in university, or when I was tutoring kids English back in Korea.","title":"What to Record"},{"content":"Biking  â€œItâ€™s just a massive challenge. Weâ€™re in business to sell bicyclesâ€¦ and we have no bicycles.\n Michael Cranwell, general manager at Gears Bike Shop\nAnother way that Canada, and other parts of the world has changed since the outbreak of the Coronavirus disease, is the rise of recreational bikers.\nBiking, even pre-pandemic has always had a special place in my heart. It is simply the best way to explore and navigate a new area for pleasure, if the conditions are suitable. It\u0026rsquo;s much faster than walking, which means you can cover way more ground, seeing much more. It\u0026rsquo;s incomparable to a car in terms of capturing an enjoyable \u0026lsquo;outdoor experience\u0026rsquo;, meaning you feel as if you are one with nature and not just being exposed to certain parts of it such as catching a breeze, or looking out the windshield. Above all else, it\u0026rsquo;s a fun physical exercise of maintaining balance, activating more muscles to climb ascents, then becoming hyper focused while blazing down the descents.\n My Miyata  Growing up, the \u0026rsquo;nicest\u0026rsquo; bike that I had ever ridden was up to only about 100$ in value. I\u0026rsquo;m talking about the lower to mid end mountain bikes sold in general stores like Walmart. When shopping for a bike last year, I finally wanted to try a road bike, because paved trails and roads were where I did most of my riding anyways. But, I wasn\u0026rsquo;t ready to drop a grand on a brand new one, so I turned to old trusty Kijiji for options.\nAfter narrowing down my choices for bikes that fit my physical specifications, such as the height and inseam, I found a blue Miyata sold by someone who fixed up vintage road bikes and sold them.\nHaving had it for a year, I can confidently say that going from a 100$ bike to a 400$ used one is worth your money. The riding is much more refined, meaning you\u0026rsquo;re not straining, you\u0026rsquo;re working. You maintain much more speed when cruising, meaning you can go longer without pedalling as much. You have an advantage over your co-riders who may have a heavier bike than you, and so forth.\nMusic Spotify has to be one of my favorite and most used applications. As an avid music listener, it has been game changing in my ability to keep and maintain my music, and to easily and explore new music.\nOut of my many playlists, one of them is a Classical / Jazz one, which I indeed listen to frequently while biking.\n   How do I listen to my music? With my True Wireless Jabra Elite Active 65ts of course! (not an affiliate link or sponsored post. Jabra, you can reach out to me on Twitter).\nWait a minute, isn\u0026rsquo;t listening to stuff with earbuds dangerous while you\u0026rsquo;re doing things where you should be aware of your surroundings? For those of you who think that, I have two words: risk tolerance. Actually, I have a little more than that. A study published in 2011 concluded that no negative effects were found when listening to music using only one earbud, and I only listen to music with one earbud.\nFrom that playlist, some of my favorite while biking are:\n Cinema Paradiso - Ennio Morricone Dolce Vita - Taro Hakase B Rossette - Blue Phoenix Stardust - Ben Webster Overture (Whiplash) - Justin Hurwitz Mascagni: Cavelleria Rusticana/Leoncavallo  ","permalink":"http://peterj35.github.io/posts/biking-with-classical-music/","summary":"Biking  â€œItâ€™s just a massive challenge. Weâ€™re in business to sell bicyclesâ€¦ and we have no bicycles.\n Michael Cranwell, general manager at Gears Bike Shop\nAnother way that Canada, and other parts of the world has changed since the outbreak of the Coronavirus disease, is the rise of recreational bikers.\nBiking, even pre-pandemic has always had a special place in my heart. It is simply the best way to explore and navigate a new area for pleasure, if the conditions are suitable.","title":"Biking With Classical Music"},{"content":"Yet another strategy for restaurants to maximize patrons given the constraints during the panedemic, has been outdoor partios which have been converted from parking lots.\nJust yesterday, a partial reopen phase began in Ontario, including the reopening of outdoor patios. One interesting difference between this reopen and the previous ones is the fact that last calls have been set back to pre-pandemic times (2AM), as opposed to the brutally tight 9PM in the previous reopen.\nThanks to a good friend who made reservations, we were able to get in in due time past a bustling lineup which was there until past 11pm. Boy was it nice to be out and about again.\n The \u0026#39;Rendezviews\u0026#39;, which pre-pandemic was just a boring old parking lot  I\u0026rsquo;m all for these new ways to squeeze operational space based on the different reopen phases. We gotta do what we gotta do in order to satisfy the constraints which are being set, which we are hoping that the guys setting the rules know what they\u0026rsquo;re doing and that they\u0026rsquo;ve thought it through. Which by the way doesn\u0026rsquo;t always happen.\nA couple months ago, due to restrictions set at the province level, the Ottawa-Gatineau border (which is a series of bridges which connect the Ontario Ottawa to the Quebec Gatineau areas) had local police operated checkpoints to ensure that the traveler was going across for essential reasons. What ended up happening is that it took commuters who at 8am are just trying to get to their jobs, take an extra 2 hours just to get to a job that they likely weren\u0026rsquo;t thrilled about commuting to in the first place.\n Policies set by governments have real impact on real people, just in case that needed to be reiterated  To the government\u0026rsquo;s credit (I could really be a bit more informed about at which level of the governments these things are being appealed and readjusted, the \u0026lsquo;government\u0026rsquo; is too broad a term), just a couple days later at least the Ottawa to Gatineau border check was removed, and in the couple times I had to go over to the other side a week or so later, there were no checks being performed. Sure, we could sit around and blame the system for having caused these delays without the foresight that it would create this amount of traffic congestion just given the sheer volume of commuters and the time it takes to do a road check, I\u0026rsquo;m still happy that they at least were willing to make things right, and right fairly quickly.\nThat was a bit of a tangent about my stance towards these policies, reopening phases and such. Anyway, as someone who likes socializing with people, it\u0026rsquo;s great to think that there are people out there looking at parking lots which became emptier due to the pandemic, to turn it into a nice outdoor area where some sense of normalcy could be presented. Yes I know they\u0026rsquo;re not exactly alturists who just want to accomodate people having a good time.\nNot everyone is this upbeat about patios. There was a reddit post which was getting a lot of visibility today, below is a screenshot of the original post:\n Yikes  There\u0026rsquo;s no need to go too in depth about what I think about that post, but I find it though-provoking how some people can hold such negative sentiments, and only see the negatives of the activities or pass-times we partake in life.\nHere comes my final point for today. At the Rendezviews tonight, there was some wackiness and silliness that was taking place, which was a bit more energetic than what I observed generally at pre-pandemic levels. I wondered if it\u0026rsquo;s a sign of pent up need to express themselves.\nThese days when I\u0026rsquo;m outside, I do find myself having a refreshed perspective. As a collective we were, and still are, undergoing some unique times. Ontario was under a stay at home order from January to March, then from April to June, so you can\u0026rsquo;t blame people for forgetting how we behave or interact with other people, kinda like a small reset in our mental models for appropriate behaviour. Another series of incidents that I think support this hypothesis might be how when the NBA started having fans again at games, there was some unruly fan behaviour (such as spitting on a player, dumping popcorn over) which took place almost every day for I think 5 or 6 days. Pre-pandemic, the most notable fan inappropriateness that I remember is the Malice at the Palace, which was way back in 2004, and so it was again an oddity that the league had such frequent fan misbehaviour right after opening up.\n","permalink":"http://peterj35.github.io/posts/gradual-reopen/","summary":"Yet another strategy for restaurants to maximize patrons given the constraints during the panedemic, has been outdoor partios which have been converted from parking lots.\nJust yesterday, a partial reopen phase began in Ontario, including the reopening of outdoor patios. One interesting difference between this reopen and the previous ones is the fact that last calls have been set back to pre-pandemic times (2AM), as opposed to the brutally tight 9PM in the previous reopen.","title":"Gradual Reopen"},{"content":"What is Pickr? It is a tournament style game that can be played online. Players select a topic (or more commonly, may click on a link to find one) for the tournament to be based upon. When the game is opened, users are shown 2 random choices that are essentially contestants for the given topic.\n I pick the Pomeranian, as I\u0026#39;m biased towards breeds with longer fur  The player continues to play until only the victor remains, in continuous rounds. The interface is as simple as it gets, you are given two choices, and you click or tap the one you prefer.\nThe thing that makes this truly interesting though of course, is that a ranking of all the choices are presented. The choices are sorted first by the total number of games that a choice has remained as the supreme victor, then by the number of intermediate rounds that were played to complete that game.\nAn important note to be made about Pickr though, is that it is not a ranking app of preferences. The selections of choices are made at random, and face off against each other randomly, meaning that in theory a player\u0026rsquo;s number 1 and 2 choices may face off in the first round. Whatever rank or tree that\u0026rsquo;s generated from that, the player\u0026rsquo;s number 2 choice will have been unfairly ranked. What could be introduced as a remedy for this, would be a separate loser\u0026rsquo;s bracket, to give opportunities for the number 2 choice to redeem itself, but that would be besides the point. And what is the point you ask? Pickr is not meant to be a strict record per se of anything. It\u0026rsquo;s not meant to be the next way to poll for preferences, or a replacement for something like Strawpoll. Instead, what Pickr does, and does very well, is encourage this very act of making the binary decision, by managing focus of the players.\nIn a world practically filled with an infinite number of distractions, Pickr narrows your focus to the given topic you have selected, then narrows it down further to 2 choices, and you simply choose one or the other. The vague topic title and description may dictate how you may be encouraged to choose, but at the end of the day, you are free to arbitrarily choose on whatever internal criteria, of the two that were presented to you.\nAnyone in the world can create a topic, and it can be shared equally with anyone, by sharing the link.\nAsk yourself, is there any field, no matter how trivial, in which you have a strong opinion on? Or perhaps you are a part of a community with a rabid fanbase? If you want to focus the attention of peers, or an online community for a while, based on the topic you\u0026rsquo;ve created \u0026ndash; you can do that using Pickr.\n","permalink":"http://peterj35.github.io/posts/introducing-pickr/","summary":"What is Pickr? It is a tournament style game that can be played online. Players select a topic (or more commonly, may click on a link to find one) for the tournament to be based upon. When the game is opened, users are shown 2 random choices that are essentially contestants for the given topic.\n I pick the Pomeranian, as I\u0026#39;m biased towards breeds with longer fur  The player continues to play until only the victor remains, in continuous rounds.","title":"Introducing Pickr"}]